<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Slider?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<AnchorPane prefHeight="900.0" prefWidth="1400.0" style="-fx-background-color: #F5F3F0;" xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controllers.TriageController">
   <children>
      <!-- Header -->
      <HBox alignment="CENTER_LEFT" prefHeight="90.0" spacing="20.0" style="-fx-background-color: #FFFFFF; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 8, 0, 0, 3);" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
         <children>
            <!-- Logo oficial del hospital -->
            <ImageView fitHeight="60.0" fitWidth="60.0" preserveRatio="true">
               <image>
                  <Image url="/assets/img/Hospital_santa_vida.png" />
               </image>
               <HBox.margin>
                  <Insets left="30.0" />
               </HBox.margin>
            </ImageView>
            
            <VBox alignment="CENTER_LEFT" spacing="2.0">
               <children>
                  <Label text="SANTA VIDA" style="-fx-font-weight: bold; -fx-font-size: 22px; -fx-text-fill: #2E5984;">
                     <font>
                        <Font name="System Bold" size="22.0" />
                     </font>
                  </Label>
                  <Label text="HOSPITAL PRIVADO" style="-fx-font-size: 13px; -fx-text-fill: #7A7A7A;">
                     <font>
                        <Font size="13.0" />
                     </font>
                  </Label>
               </children>
            </VBox>
            
            <!-- Spacer -->
            <Region HBox.hgrow="ALWAYS" />
            
            <!-- Doctor Info -->
            <HBox alignment="CENTER_RIGHT" spacing="15.0">
               <children>
                  <VBox alignment="CENTER_RIGHT" spacing="2.0">
                     <children>
                        <Label fx:id="lblDoctorName" text="Dr. Médico Triage" style="-fx-font-weight: bold; -fx-font-size: 16px; -fx-text-fill: #2E5984;">
                           <font>
                              <Font name="System Bold" size="16.0" />
                           </font>
                        </Label>
                        <Label fx:id="lblDoctorRole" text="Evaluación de Triage" style="-fx-font-size: 13px; -fx-text-fill: #7A7A7A;">
                           <font>
                              <Font size="13.0" />
                           </font>
                        </Label>
                        <Label fx:id="lblDateTime" text="Fecha/Hora" style="-fx-font-size: 13px; -fx-text-fill: #7A7A7A;">
                           <font>
                              <Font size="13.0" />
                           </font>
                        </Label>
                     </children>
                  </VBox>
                  <Label text="🩺" style="-fx-font-size: 28px;"/>
               </children>
               <HBox.margin>
                  <Insets right="30.0" />
               </HBox.margin>
            </HBox>
         </children>
      </HBox>

      <!-- Main Content -->
      <ScrollPane fitToWidth="true" style="-fx-background: #F5F3F0; -fx-border-color: transparent;" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="90.0">
         <content>
            <HBox spacing="30.0" style="-fx-background-color: #F5F3F0;">
               <padding>
                  <Insets bottom="30.0" left="40.0" right="40.0" top="30.0" />
               </padding>
               <children>
                  <!-- Formulario Principal -->
                  <VBox prefWidth="900.0" spacing="25.0" style="-fx-background-color: #FFFFFF; -fx-background-radius: 15; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 12, 0, 0, 4);">
                     <padding>
                        <Insets bottom="35.0" left="35.0" right="35.0" top="35.0" />
                     </padding>
                     <children>
                        <!-- Título -->
                        <HBox alignment="CENTER_LEFT" spacing="15.0">
                           <children>
                              <Label text="🩺" style="-fx-font-size: 24px;"/>
                              <VBox spacing="3.0">
                                 <children>
                                    <Label text="Evaluación de Triage" style="-fx-font-size: 26px; -fx-font-weight: bold; -fx-text-fill: #2E5984;">
                                       <font>
                                          <Font name="System Bold" size="26.0" />
                                       </font>
                                    </Label>
                                    <Label text="Clasificación de urgencia médica por prioridad" style="-fx-font-size: 14px; -fx-text-fill: #7A7A7A;">
                                       <font>
                                          <Font size="14.0" />
                                       </font>
                                    </Label>
                                 </children>
                              </VBox>
                           </children>
                        </HBox>
                        
                        <!-- Sección: Información Básica -->
                        <VBox spacing="18.0" style="-fx-background-color: #F8F9FA; -fx-background-radius: 10; -fx-padding: 25;">
                           <children>
                              <HBox alignment="CENTER_LEFT" spacing="10.0">
                                 <children>
                                    <Label text="📋" style="-fx-font-size: 18px;"/>
                                    <Label text="Información Básica del Paciente" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #2E5984;">
                                       <font>
                                          <Font name="System Bold" size="18.0" />
                                       </font>
                                    </Label>
                                 </children>
                              </HBox>
                              
                              <HBox spacing="20.0">
                                 <children>
                                    <VBox spacing="8.0" HBox.hgrow="ALWAYS">
                                       <children>
                                          <Label text="Buscar Paciente:" style="-fx-font-weight: bold; -fx-font-size: 14px; -fx-text-fill: #2E5984;">
                                             <font>
                                                <Font name="System Bold" size="14.0" />
                                             </font>
                                          </Label>
                                          <HBox spacing="10.0">
                                             <children>
                                                <TextField fx:id="txtBuscarPaciente" promptText="Nombre, CURP o Expediente" HBox.hgrow="ALWAYS" style="-fx-background-color: #FFFFFF; -fx-border-color: #E0E0E0; -fx-border-radius: 8; -fx-background-radius: 8;"/>
                                                <Button fx:id="btnBuscarPaciente" text="🔍 Buscar" onAction="#handleBuscarPaciente" style="-fx-background-color: #2E5984; -fx-text-fill: white; -fx-background-radius: 8;"/>
                                             </children>
                                          </HBox>
                                          <Label fx:id="lblPacienteInfo" text="Paciente no seleccionado" style="-fx-font-size: 13px; -fx-text-fill: #7A7A7A;"/>
                                       </children>
                                    </VBox>
                                    <VBox spacing="8.0" HBox.hgrow="ALWAYS">
                                       <children>
                                          <Label text="Número de Folio:" style="-fx-font-weight: bold; -fx-font-size: 14px; -fx-text-fill: #2E5984;">
                                             <font>
                                                <Font name="System Bold" size="14.0" />
                                             </font>
                                          </Label>
                                          <TextField fx:id="txtNumeroFolio" editable="false" style="-fx-background-color: #F5F5F5; -fx-border-color: #E0E0E0; -fx-border-radius: 8; -fx-background-radius: 8;"/>
                                       </children>
                                    </VBox>
                                 </children>
                              </HBox>
                              
                              <HBox spacing="20.0">
                                 <children>
                                    <VBox spacing="8.0" HBox.hgrow="ALWAYS">
                                       <children>
                                          <Label text="Fecha de Ingreso:" style="-fx-font-weight: bold; -fx-font-size: 14px; -fx-text-fill: #2E5984;">
                                             <font>
                                                <Font name="System Bold" size="14.0" />
                                             </font>
                                          </Label>
                                          <TextField fx:id="txtFechaIngreso" editable="false" style="-fx-background-color: #F5F5F5; -fx-border-color: #E0E0E0; -fx-border-radius: 8; -fx-background-radius: 8;"/>
                                       </children>
                                    </VBox>
                                 </children>
                              </HBox>
                              
                              <VBox spacing="8.0">
                                 <children>
                                    <Label text="Motivo de la Consulta:" style="-fx-font-weight: bold; -fx-font-size: 14px; -fx-text-fill: #2E5984;">
                                       <font>
                                          <Font name="System Bold" size="14.0" />
                                       </font>
                                    </Label>
                                    <TextArea fx:id="txtMotivoConsulta" prefRowCount="3" promptText="Describa el motivo de la consulta..." style="-fx-background-color: #FFFFFF; -fx-border-color: #E0E0E0; -fx-border-radius: 8; -fx-background-radius: 8;"/>
                                 </children>
                              </VBox>
                           </children>
                        </VBox>
                        
                        <!-- Sección: Signos Vitales -->
                        <VBox spacing="18.0" style="-fx-background-color: #F8F9FA; -fx-background-radius: 10; -fx-padding: 25;">
                           <children>
                              <HBox alignment="CENTER_LEFT" spacing="10.0">
                                 <children>
                                    <Label text="❤️" style="-fx-font-size: 18px;"/>
                                    <Label text="Signos Vitales" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #2E5984;">
                                       <font>
                                          <Font name="System Bold" size="18.0" />
                                       </font>
                                    </Label>
                                 </children>
                              </HBox>
                              
                              <HBox spacing="20.0">
                                 <children>
                                    <VBox spacing="8.0" HBox.hgrow="ALWAYS">
                                       <children>
                                          <Label text="Presión Arterial (mmHg):" style="-fx-font-weight: bold; -fx-font-size: 14px; -fx-text-fill: #2E5984;">
                                             <font>
                                                <Font name="System Bold" size="14.0" />
                                             </font>
                                          </Label>
                                          <TextField fx:id="txtPresionArterial" promptText="120/80" style="-fx-background-color: #FFFFFF; -fx-border-color: #E0E0E0; -fx-border-radius: 8; -fx-background-radius: 8;"/>
                                       </children>
                                    </VBox>
                                    <VBox spacing="8.0" HBox.hgrow="ALWAYS">
                                       <children>
                                          <Label text="Frecuencia Cardiaca (lpm):" style="-fx-font-weight: bold; -fx-font-size: 14px; -fx-text-fill: #2E5984;">
                                             <font>
                                                <Font name="System Bold" size="14.0" />
                                             </font>
                                          </Label>
                                          <TextField fx:id="txtFrecuenciaCardiaca" promptText="70" style="-fx-background-color: #FFFFFF; -fx-border-color: #E0E0E0; -fx-border-radius: 8; -fx-background-radius: 8;"/>
                                       </children>
                                    </VBox>
                                    <VBox spacing="8.0" HBox.hgrow="ALWAYS">
                                       <children>
                                          <Label text="Temperatura (°C):" style="-fx-font-weight: bold; -fx-font-size: 14px; -fx-text-fill: #2E5984;">
                                             <font>
                                                <Font name="System Bold" size="14.0" />
                                             </font>
                                          </Label>
                                          <TextField fx:id="txtTemperatura" promptText="36.5" style="-fx-background-color: #FFFFFF; -fx-border-color: #E0E0E0; -fx-border-radius: 8; -fx-background-radius: 8;"/>
                                       </children>
                                    </VBox>
                                 </children>
                              </HBox>
                              
                              <HBox spacing="20.0">
                                 <children>
                                    <VBox spacing="8.0" HBox.hgrow="ALWAYS">
                                       <children>
                                          <Label text="Frecuencia Respiratoria (rpm):" style="-fx-font-weight: bold; -fx-font-size: 14px; -fx-text-fill: #2E5984;">
                                             <font>
                                                <Font name="System Bold" size="14.0" />
                                             </font>
                                          </Label>
                                          <TextField fx:id="txtFrecuenciaRespiratoria" promptText="16" style="-fx-background-color: #FFFFFF; -fx-border-color: #E0E0E0; -fx-border-radius: 8; -fx-background-radius: 8;"/>
                                       </children>
                                    </VBox>
                                    <VBox spacing="8.0" HBox.hgrow="ALWAYS">
                                       <children>
                                          <Label text="Saturación O2 (%):" style="-fx-font-weight: bold; -fx-font-size: 14px; -fx-text-fill: #2E5984;">
                                             <font>
                                                <Font name="System Bold" size="14.0" />
                                             </font>
                                          </Label>
                                          <TextField fx:id="txtSaturacionO2" promptText="98" style="-fx-background-color: #FFFFFF; -fx-border-color: #E0E0E0; -fx-border-radius: 8; -fx-background-radius: 8;"/>
                                       </children>
                                    </VBox>
                                    <VBox spacing="8.0" HBox.hgrow="ALWAYS">
                                       <children>
                                          <Label text="Escala Glasgow:" style="-fx-font-weight: bold; -fx-font-size: 14px; -fx-text-fill: #2E5984;">
                                             <font>
                                                <Font name="System Bold" size="14.0" />
                                             </font>
                                          </Label>
                                          <TextField fx:id="txtGlasgow" promptText="15" style="-fx-background-color: #FFFFFF; -fx-border-color: #E0E0E0; -fx-border-radius: 8; -fx-background-radius: 8;"/>
                                       </children>
                                    </VBox>
                                 </children>
                              </HBox>
                           </children>
                        </VBox>
                        
                        <!-- Sección: Evaluación Clínica -->
                        <VBox spacing="18.0" style="-fx-background-color: #F8F9FA; -fx-background-radius: 10; -fx-padding: 25;">
                           <children>
                              <HBox alignment="CENTER_LEFT" spacing="10.0">
                                 <children>
                                    <Label text="⚕️" style="-fx-font-size: 18px;"/>
                                    <Label text="Evaluación Clínica" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #2E5984;">
                                       <font>
                                          <Font name="System Bold" size="18.0" />
                                       </font>
                                    </Label>
                                 </children>
                              </HBox>
                              
                              <HBox spacing="20.0">
                                 <children>
                                    <VBox spacing="8.0" HBox.hgrow="ALWAYS">
                                       <children>
                                          <Label text="Nivel de Dolor (0-10):" style="-fx-font-weight: bold; -fx-font-size: 14px; -fx-text-fill: #2E5984;">
                                             <font>
                                                <Font name="System Bold" size="14.0" />
                                             </font>
                                          </Label>
                                          <Slider fx:id="sliderDolor" min="0" max="10" value="0" showTickLabels="true" showTickMarks="true" majorTickUnit="5" blockIncrement="1"/>
                                          <TextField fx:id="txtDolor" editable="false" style="-fx-background-color: #F5F5F5; -fx-border-color: #E0E0E0; -fx-border-radius: 8; -fx-background-radius: 8;"/>
                                       </children>
                                    </VBox>
                                    <VBox spacing="8.0" HBox.hgrow="ALWAYS">
                                       <children>
                                          <Label text="Escala Glasgow (3-15):" style="-fx-font-weight: bold; -fx-font-size: 14px; -fx-text-fill: #2E5984;">
                                             <font>
                                                <Font name="System Bold" size="14.0" />
                                             </font>
                                          </Label>
                                          <Slider fx:id="sliderGlasgow" min="3" max="15" value="15" showTickLabels="true" showTickMarks="true" majorTickUnit="6" blockIncrement="1"/>
                                       </children>
                                    </VBox>
                                 </children>
                              </HBox>
                              
                              <VBox spacing="8.0">
                                 <children>
                                    <Label text="Síntomas Principales:" style="-fx-font-weight: bold; -fx-font-size: 14px; -fx-text-fill: #2E5984;">
                                       <font>
                                          <Font name="System Bold" size="14.0" />
                                       </font>
                                    </Label>
                                    <TextArea fx:id="txtSintomas" prefRowCount="3" promptText="Describa los síntomas principales del paciente..." style="-fx-background-color: #FFFFFF; -fx-border-color: #E0E0E0; -fx-border-radius: 8; -fx-background-radius: 8;"/>
                                 </children>
                              </VBox>
                              
                              <VBox spacing="8.0">
                                 <children>
                                    <Label text="Observaciones Clínicas:" style="-fx-font-weight: bold; -fx-font-size: 14px; -fx-text-fill: #2E5984;">
                                       <font>
                                          <Font name="System Bold" size="14.0" />
                                       </font>
                                    </Label>
                                    <TextArea fx:id="txtObservacionesClinicas" prefRowCount="3" promptText="Observaciones adicionales del personal médico..." style="-fx-background-color: #FFFFFF; -fx-border-color: #E0E0E0; -fx-border-radius: 8; -fx-background-radius: 8;"/>
                                 </children>
                              </VBox>
                           </children>
                        </VBox>
                        
                        <!-- Sección: Clasificación de Triage -->
                        <VBox spacing="18.0" style="-fx-background-color: #F8F9FA; -fx-background-radius: 10; -fx-padding: 25;">
                           <children>
                              <HBox alignment="CENTER_LEFT" spacing="10.0">
                                 <children>
                                    <Label text="🚨" style="-fx-font-size: 18px;"/>
                                    <Label text="Clasificación de Triage" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #2E5984;">
                                       <font>
                                          <Font name="System Bold" size="18.0" />
                                       </font>
                                    </Label>
                                 </children>
                              </HBox>
                              
                              <HBox spacing="15.0" alignment="CENTER">
                                 <children>
                                    <Button fx:id="btnTriageRojo" text="ROJO" onAction="#handleTriageRojo" style="-fx-background-color: #e53e3e; -fx-text-fill: white; -fx-font-weight: bold; -fx-pref-width: 100; -fx-pref-height: 40; -fx-background-radius: 8;"/>
                                    <Button fx:id="btnTriageNaranja" text="NARANJA" onAction="#handleTriageNaranja" style="-fx-background-color: #fd7f28; -fx-text-fill: white; -fx-font-weight: bold; -fx-pref-width: 100; -fx-pref-height: 40; -fx-background-radius: 8;"/>
                                    <Button fx:id="btnTriageAmarillo" text="AMARILLO" onAction="#handleTriageAmarillo" style="-fx-background-color: #fbbf24; -fx-text-fill: white; -fx-font-weight: bold; -fx-pref-width: 100; -fx-pref-height: 40; -fx-background-radius: 8;"/>
                                    <Button fx:id="btnTriageVerde" text="VERDE" onAction="#handleTriageVerde" style="-fx-background-color: #68d391; -fx-text-fill: white; -fx-font-weight: bold; -fx-pref-width: 100; -fx-pref-height: 40; -fx-background-radius: 8;"/>
                                    <Button fx:id="btnTriageAzul" text="AZUL" onAction="#handleTriageAzul" style="-fx-background-color: #38b2ac; -fx-text-fill: white; -fx-font-weight: bold; -fx-pref-width: 100; -fx-pref-height: 40; -fx-background-radius: 8;"/>
                                 </children>
                              </HBox>
                              
                              <Label fx:id="lblTriageSeleccionado" text="Sin clasificación" alignment="CENTER" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #7A7A7A; -fx-background-color: #F5F5F5; -fx-background-radius: 8; -fx-padding: 10;">
                                 <font>
                                    <Font name="System Bold" size="16.0" />
                                 </font>
                              </Label>
                           </children>
                        </VBox>
                        
                        <!-- Sección: Especialidades -->
                        <VBox spacing="18.0" style="-fx-background-color: #F8F9FA; -fx-background-radius: 10; -fx-padding: 25;">
                           <children>
                              <HBox alignment="CENTER_LEFT" spacing="10.0">
                                 <children>
                                    <Label text="👨‍⚕️" style="-fx-font-size: 18px;"/>
                                    <Label text="Especialidad Médica Requerida" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #2E5984;">
                                       <font>
                                          <Font name="System Bold" size="18.0" />
                                       </font>
                                    </Label>
                                 </children>
                              </HBox>
                              
                              <HBox spacing="10.0" alignment="CENTER">
                                 <children>
                                    <Button fx:id="btnEspecialidadGeneral" text="General" onAction="#handleEspecialidadGeneral" style="-fx-background-color: #F8F9FA; -fx-text-fill: #2E5984; -fx-border-color: #2E5984; -fx-border-radius: 6; -fx-background-radius: 6; -fx-pref-width: 100;"/>
                                    <Button fx:id="btnEspecialidadCardiologia" text="Cardiología" onAction="#handleEspecialidadCardiologia" style="-fx-background-color: #F8F9FA; -fx-text-fill: #2E5984; -fx-border-color: #2E5984; -fx-border-radius: 6; -fx-background-radius: 6; -fx-pref-width: 100;"/>
                                    <Button fx:id="btnEspecialidadPediatria" text="Pediatría" onAction="#handleEspecialidadPediatria" style="-fx-background-color: #F8F9FA; -fx-text-fill: #2E5984; -fx-border-color: #2E5984; -fx-border-radius: 6; -fx-background-radius: 6; -fx-pref-width: 100;"/>
                                 </children>
                              </HBox>
                              <HBox spacing="10.0" alignment="CENTER">
                                 <children>
                                    <Button fx:id="btnEspecialidadTraumatologia" text="Traumatología" onAction="#handleEspecialidadTraumatologia" style="-fx-background-color: #F8F9FA; -fx-text-fill: #2E5984; -fx-border-color: #2E5984; -fx-border-radius: 6; -fx-background-radius: 6; -fx-pref-width: 100;"/>
                                    <Button fx:id="btnEspecialidadGinecologia" text="Ginecología" onAction="#handleEspecialidadGinecologia" style="-fx-background-color: #F8F9FA; -fx-text-fill: #2E5984; -fx-border-color: #2E5984; -fx-border-radius: 6; -fx-background-radius: 6; -fx-pref-width: 100;"/>
                                    <Button fx:id="btnEspecialidadNeurologia" text="Neurología" onAction="#handleEspecialidadNeurologia" style="-fx-background-color: #F8F9FA; -fx-text-fill: #2E5984; -fx-border-color: #2E5984; -fx-border-radius: 6; -fx-background-radius: 6; -fx-pref-width: 100;"/>
                                 </children>
                              </HBox>
                              <HBox spacing="10.0" alignment="CENTER">
                                 <children>
                                    <Button fx:id="btnEspecialidadPsiquiatria" text="Psiquiatría" onAction="#handleEspecialidadPsiquiatria" style="-fx-background-color: #F8F9FA; -fx-text-fill: #2E5984; -fx-border-color: #2E5984; -fx-border-radius: 6; -fx-background-radius: 6; -fx-pref-width: 100;"/>
                                    <Button fx:id="btnEspecialidadDermatologia" text="Dermatología" onAction="#handleEspecialidadDermatologia" style="-fx-background-color: #F8F9FA; -fx-text-fill: #2E5984; -fx-border-color: #2E5984; -fx-border-radius: 6; -fx-background-radius: 6; -fx-pref-width: 100;"/>
                                 </children>
                              </HBox>
                           </children>
                        </VBox>
                        
                        <!-- Resultado de Evaluación -->
                        <VBox spacing="15.0" style="-fx-background-color: #E3F2FD; -fx-background-radius: 10; -fx-padding: 20;">
                           <children>
                              <Label text="Resultado de la Evaluación:" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #2E5984;">
                                 <font>
                                    <Font name="System Bold" size="16.0" />
                                 </font>
                              </Label>
                              <Label fx:id="lblNivelUrgencia" text="Nivel de urgencia no determinado" style="-fx-font-size: 14px; -fx-text-fill: #7A7A7A;"/>
                              <Label fx:id="lblJustificacion" text="Justificación médica no disponible" style="-fx-font-size: 14px; -fx-text-fill: #7A7A7A;"/>
                           </children>
                        </VBox>

                        <!-- Botones de Acción -->
                        <HBox spacing="20.0" alignment="CENTER">
                           <children>
                              <Button text="Evaluar" onAction="#handleEvaluar" style="-fx-background-color: #2E5984; -fx-text-fill: #FFFFFF; -fx-pref-width: 120; -fx-pref-height: 45; -fx-font-weight: bold; -fx-font-size: 14px; -fx-background-radius: 8; -fx-cursor: hand;">
                                 <font>
                                    <Font name="System Bold" size="14.0" />
                                 </font>
                              </Button>
                              <Button fx:id="btnGuardar" text="Guardar" onAction="#handleGuardar" style="-fx-background-color: #047857; -fx-text-fill: #FFFFFF; -fx-pref-width: 120; -fx-pref-height: 45; -fx-font-weight: bold; -fx-font-size: 14px; -fx-background-radius: 8; -fx-cursor: hand;">
                                 <font>
                                    <Font name="System Bold" size="14.0" />
                                 </font>
                              </Button>
                              <Button text="Limpiar" onAction="#handleLimpiar" style="-fx-background-color: #F5F5F5; -fx-text-fill: #7A7A7A; -fx-pref-width: 120; -fx-pref-height: 45; -fx-font-weight: bold; -fx-font-size: 14px; -fx-border-color: #E0E0E0; -fx-border-radius: 8; -fx-background-radius: 8; -fx-cursor: hand;">
                                 <font>
                                    <Font name="System Bold" size="14.0" />
                                 </font>
                              </Button>
                              <Button fx:id="btnSiguientePaciente" text="Siguiente" onAction="#handleSiguientePaciente" style="-fx-background-color: linear-gradient(to right, #2E5984, #4A90E2); -fx-text-fill: #FFFFFF; -fx-pref-width: 140; -fx-pref-height: 45; -fx-font-weight: bold; -fx-font-size: 14px; -fx-background-radius: 8; -fx-cursor: hand; -fx-effect: dropshadow(three-pass-box, rgba(46, 89, 132, 0.3), 8, 0, 0, 2);">
                                 <font>
                                    <Font name="System Bold" size="14.0" />
                                 </font>
                              </Button>
                           </children>
                           <VBox.margin>
                              <Insets top="25.0" />
                           </VBox.margin>
                        </HBox>
                     </children>
                  </VBox>
                  
                  <!-- Panel Lateral Derecho -->
                  <VBox prefWidth="350.0" spacing="25.0">
                     <children>
                        <!-- Estadísticas del Día -->
                        <VBox spacing="15.0" style="-fx-background-color: #FFFFFF; -fx-background-radius: 15; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 12, 0, 0, 4);">
                           <padding>
                              <Insets bottom="25.0" left="25.0" right="25.0" top="25.0" />
                           </padding>
                           <children>
                              <HBox alignment="CENTER_LEFT" spacing="10.0">
                                 <children>
                                    <Label text="📊" style="-fx-font-size: 18px;"/>
                                    <Label text="Estadísticas" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #2E5984;">
                                       <font>
                                          <Font name="System Bold" size="18.0" />
                                       </font>
                                    </Label>
                                 </children>
                              </HBox>
                              
                              <VBox spacing="12.0">
                                 <children>
                                    <HBox>
                                       <children>
                                          <Label text="Total Pacientes:" style="-fx-font-size: 13px; -fx-text-fill: #7A7A7A;">
                                             <font>
                                                <Font size="13.0" />
                                             </font>
                                          </Label>
                                          <Region HBox.hgrow="ALWAYS" />
                                          <Label fx:id="lblTotalPacientes" text="0" style="-fx-font-size: 13px; -fx-font-weight: bold;">
                                             <font>
                                                <Font name="System Bold" size="13.0" />
                                             </font>
                                          </Label>
                                       </children>
                                    </HBox>
                                 </children>
                              </VBox>
                           </children>
                        </VBox>
                        
                        <!-- Códigos de Prioridad -->
                        <VBox spacing="15.0" style="-fx-background-color: #FFFFFF; -fx-background-radius: 15; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 12, 0, 0, 4);">
                           <padding>
                              <Insets bottom="25.0" left="25.0" right="25.0" top="25.0" />
                           </padding>
                           <children>
                              <HBox alignment="CENTER_LEFT" spacing="10.0">
                                 <children>
                                    <Label text="🚨" style="-fx-font-size: 18px;"/>
                                    <Label text="Códigos de Prioridad" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #2E5984;">
                                       <font>
                                          <Font name="System Bold" size="18.0" />
                                       </font>
                                    </Label>
                                 </children>
                              </HBox>
                              
                              <VBox spacing="12.0">
                                 <children>
                                    <HBox alignment="CENTER_LEFT" spacing="10.0" style="-fx-background-color: #FFF5F5; -fx-background-radius: 8; -fx-padding: 8;">
                                       <children>
                                          <Label text="●" style="-fx-font-size: 16px; -fx-text-fill: #e53e3e;"/>
                                          <VBox spacing="2.0">
                                             <children>
                                                <Label text="ROJO - Emergencia" style="-fx-font-size: 12px; -fx-font-weight: bold; -fx-text-fill: #e53e3e;">
                                                   <font>
                                                      <Font name="System Bold" size="12.0" />
                                                   </font>
                                                </Label>
                                                <Label text="Atención inmediata" style="-fx-font-size: 11px; -fx-text-fill: #7A7A7A;"/>
                                             </children>
                                          </VBox>
                                       </children>
                                    </HBox>
                                    <HBox alignment="CENTER_LEFT" spacing="10.0" style="-fx-background-color: #FFF7ED; -fx-background-radius: 8; -fx-padding: 8;">
                                       <children>
                                          <Label text="●" style="-fx-font-size: 16px; -fx-text-fill: #fd7f28;"/>
                                          <VBox spacing="2.0">
                                             <children>
                                                <Label text="NARANJA - Urgente" style="-fx-font-size: 12px; -fx-font-weight: bold; -fx-text-fill: #fd7f28;">
                                                   <font>
                                                      <Font name="System Bold" size="12.0" />
                                                   </font>
                                                </Label>
                                                <Label text="15 minutos" style="-fx-font-size: 11px; -fx-text-fill: #7A7A7A;"/>
                                             </children>
                                          </VBox>
                                       </children>
                                    </HBox>
                                    <HBox alignment="CENTER_LEFT" spacing="10.0" style="-fx-background-color: #FFFBEB; -fx-background-radius: 8; -fx-padding: 8;">
                                       <children>
                                          <Label text="●" style="-fx-font-size: 16px; -fx-text-fill: #fbbf24;"/>
                                          <VBox spacing="2.0">
                                             <children>
                                                <Label text="AMARILLO - Menos Urgente" style="-fx-font-size: 12px; -fx-font-weight: bold; -fx-text-fill: #fbbf24;">
                                                   <font>
                                                      <Font name="System Bold" size="12.0" />
                                                   </font>
                                                </Label>
                                                <Label text="30 minutos" style="-fx-font-size: 11px; -fx-text-fill: #7A7A7A;"/>
                                             </children>
                                          </VBox>
                                       </children>
                                    </HBox>
                                    <HBox alignment="CENTER_LEFT" spacing="10.0" style="-fx-background-color: #F0FDF4; -fx-background-radius: 8; -fx-padding: 8;">
                                       <children>
                                          <Label text="●" style="-fx-font-size: 16px; -fx-text-fill: #68d391;"/>
                                          <VBox spacing="2.0">
                                             <children>
                                                <Label text="VERDE - No Urgente" style="-fx-font-size: 12px; -fx-font-weight: bold; -fx-text-fill: #68d391;">
                                                   <font>
                                                      <Font name="System Bold" size="12.0" />
                                                   </font>
                                                </Label>
                                                <Label text="60 minutos" style="-fx-font-size: 11px; -fx-text-fill: #7A7A7A;"/>
                                             </children>
                                          </VBox>
                                       </children>
                                    </HBox>
                                    <HBox alignment="CENTER_LEFT" spacing="10.0" style="-fx-background-color: #F0FDFA; -fx-background-radius: 8; -fx-padding: 8;">
                                       <children>
                                          <Label text="●" style="-fx-font-size: 16px; -fx-text-fill: #38b2ac;"/>
                                          <VBox spacing="2.0">
                                             <children>
                                                <Label text="AZUL - Administrativo" style="-fx-font-size: 12px; -fx-font-weight: bold; -fx-text-fill: #38b2ac;">
                                                   <font>
                                                      <Font name="System Bold" size="12.0" />
                                                   </font>
                                                </Label>
                                                <Label text="Consulta programada" style="-fx-font-size: 11px; -fx-text-fill: #7A7A7A;"/>
                                             </children>
                                          </VBox>
                                       </children>
                                    </HBox>
                                 </children>
                              </VBox>
                           </children>
                        </VBox>
                        
                        <!-- Acciones Rápidas -->
                        <VBox spacing="15.0" style="-fx-background-color: #FFFFFF; -fx-background-radius: 15; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 12, 0, 0, 4);">
                           <padding>
                              <Insets bottom="25.0" left="25.0" right="25.0" top="25.0" />
                           </padding>
                           <children>
                              <HBox alignment="CENTER_LEFT" spacing="10.0">
                                 <children>
                                    <Label text="⚡" style="-fx-font-size: 18px;"/>
                                    <Label text="Acciones Rápidas" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #2E5984;">
                                       <font>
                                          <Font name="System Bold" size="18.0" />
                                       </font>
                                    </Label>
                                 </children>
                              </HBox>
                              
                              <VBox spacing="10.0">
                                 <children>
                                    <Button text="🚪 Cerrar Sesión" onAction="#handleLogout" style="-fx-background-color: #FFEBEE; -fx-text-fill: #C62828; -fx-pref-width: 200; -fx-pref-height: 35; -fx-font-size: 12px; -fx-border-color: #FFCDD2; -fx-border-radius: 6; -fx-background-radius: 6;">
                                       <font>
                                          <Font size="12.0" />
                                       </font>
                                    </Button>
                                 </children>
                              </VBox>
                           </children>
                        </VBox>
                     </children>
                  </VBox>
               </children>
            </HBox>
         </content>
      </ScrollPane>
   </children>
</AnchorPane>