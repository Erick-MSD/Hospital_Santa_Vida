<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.*?>

<!-- Panel Administrativo - Sala de Espera -->
<BorderPane xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="controllers.AdminSalaEsperaController"
            stylesheets="@estilos-dashboard.css">
    <!-- Top: Menú y barra superior -->
    <top>
        <VBox spacing="0">
            <MenuBar>
                <Menu text="Navegación">
                    <MenuItem fx:id="menuTriage" text="Triage" onAction="#abrirTriage" />
                    <MenuItem fx:id="menuRegistro" text="Registro Pacientes" onAction="#abrirRegistroPaciente" />
                    <MenuItem fx:id="menuTrabajoSocial" text="Trabajo Social" onAction="#abrirTrabajoSocial" />
                    <MenuItem fx:id="menuConsultaMedica" text="Consulta Médica" onAction="#abrirConsultaMedica" />
                    <SeparatorMenuItem />
                    <MenuItem fx:id="menuReportes" text="Reportes" onAction="#abrirReportes" />
                    <MenuItem fx:id="menuConfiguracion" text="Configuración" onAction="#abrirConfiguracion" />
                </Menu>
            </MenuBar>
            <HBox spacing="15" styleClass="h-top-bar">
                <ImageView fitHeight="42" preserveRatio="true" smooth="true" pickOnBounds="true">
                    <image>
                        <Image url="@../assets/img/Hospital_santa_vida.png" />
                    </image>
                </ImageView>
                <Label text="HOSPITAL SANTA VIDA - Panel Administrativo" styleClass="titulo-app" />
                <Pane HBox.hgrow="ALWAYS" />
                <Button fx:id="btnActualizar" text="Actualizar" onAction="#handleActualizar" styleClass="btn-primario" />
                <Button fx:id="btnCerrarSesion" text="Cerrar Sesión" onAction="#handleLogout" styleClass="btn-peligro" />
            </HBox>
        </VBox>
    </top>

    <!-- Center: Contenido principal -->
    <center>
        <VBox spacing="25" style="-fx-padding:20; -fx-background-color: linear-gradient(to bottom,#f5f7fa,#eef1f5);">
            <!-- Tarjetas estadísticas -->
            <HBox spacing="20">
                <VBox prefWidth="200" alignment="CENTER" spacing="5" style="-fx-background-color:white; -fx-padding:15; -fx-background-radius:12; -fx-effect:dropshadow(gaussian, rgba(0,0,0,0.08),10,0,0,2);">
                    <Label text="TOTAL PACIENTES" style="-fx-font-size:12; -fx-text-fill:#555; -fx-font-weight:bold;" />
                    <Label fx:id="lblTotalPacientes" text="0" style="-fx-font-size:38; -fx-font-weight:bold; -fx-text-fill:#1e3a8a;" />
                    <Label text="en el sistema hoy" style="-fx-text-fill:#777; -fx-font-size:11;" />
                </VBox>
                <VBox prefWidth="200" alignment="CENTER" spacing="5" style="-fx-background-color:white; -fx-padding:15; -fx-background-radius:12; -fx-effect:dropshadow(gaussian, rgba(0,0,0,0.08),10,0,0,2);">
                    <Label text="ESPERANDO TRIAGE" style="-fx-font-size:12; -fx-text-fill:#555; -fx-font-weight:bold;" />
                    <Label fx:id="lblPacientesEspera" text="0" style="-fx-font-size:38; -fx-font-weight:bold; -fx-text-fill:#b45309;" />
                    <Label text="pendientes de evaluación" style="-fx-text-fill:#777; -fx-font-size:11;" />
                </VBox>
                <VBox prefWidth="200" alignment="CENTER" spacing="5" style="-fx-background-color:white; -fx-padding:15; -fx-background-radius:12; -fx-effect:dropshadow(gaussian, rgba(0,0,0,0.08),10,0,0,2);">
                    <Label text="CONSULTAS HOY" style="-fx-font-size:12; -fx-text-fill:#555; -fx-font-weight:bold;" />
                    <Label fx:id="lblConsultasHoy" text="0" style="-fx-font-size:38; -fx-font-weight:bold; -fx-text-fill:#047857;" />
                    <Label text="atenciones finalizadas" style="-fx-text-fill:#777; -fx-font-size:11;" />
                </VBox>
                <VBox prefWidth="200" alignment="CENTER" spacing="5" style="-fx-background-color:white; -fx-padding:15; -fx-background-radius:12; -fx-effect:dropshadow(gaussian, rgba(0,0,0,0.08),10,0,0,2);">
                    <Label text="TRIAGE HOY" style="-fx-font-size:12; -fx-text-fill:#555; -fx-font-weight:bold;" />
                    <Label fx:id="lblPacientesTriageHoy" text="0" style="-fx-font-size:38; -fx-font-weight:bold; -fx-text-fill:#0e7490;" />
                    <Label text="evaluaciones realizadas" style="-fx-text-fill:#777; -fx-font-size:11;" />
                </VBox>
            </HBox>

            <!-- Tablas -->
            <HBox spacing="25" VBox.vgrow="ALWAYS">
                <VBox spacing="10" HBox.hgrow="ALWAYS" VBox.vgrow="ALWAYS">
                    <Label text="Pacientes en Triage" style="-fx-font-size:16; -fx-font-weight:bold; -fx-text-fill:#1f2937;" />
                    <TableView fx:id="tblPacientesTriage" VBox.vgrow="ALWAYS">
                        <columns>
                            <TableColumn fx:id="colNombrePaciente" text="Paciente" prefWidth="160" />
                            <TableColumn fx:id="colUrgencia" text="Nivel" prefWidth="90" />
                            <TableColumn fx:id="colTiempoEspera" text="Tiempo Espera" prefWidth="110" />
                            <TableColumn fx:id="colEstado" text="Estado" prefWidth="110" />
                        </columns>
                    </TableView>
                </VBox>

                <VBox spacing="10" HBox.hgrow="ALWAYS" VBox.vgrow="ALWAYS">
                    <Label text="Citas Programadas Hoy" style="-fx-font-size:16; -fx-font-weight:bold; -fx-text-fill:#1f2937;" />
                    <TableView fx:id="tblCitasHoy" VBox.vgrow="ALWAYS">
                        <columns>
                            <TableColumn fx:id="colPacienteCita" text="Paciente" prefWidth="150" />
                            <TableColumn fx:id="colMedicoCita" text="Médico" prefWidth="140" />
                            <TableColumn fx:id="colHoraCita" text="Hora" prefWidth="80" />
                            <TableColumn fx:id="colEspecialidad" text="Especialidad" prefWidth="120" />
                            <TableColumn fx:id="colEstadoCita" text="Estado" prefWidth="100" />
                        </columns>
                    </TableView>
                </VBox>
            </HBox>
        </VBox>
    </center>

    <!-- Right: (Opcional espacio extra) -->
    <right>
        <VBox prefWidth="0" />
    </right>

    <!-- Bottom: pie simple -->
    <bottom>
        <HBox alignment="CENTER_RIGHT" style="-fx-padding:6 15; -fx-background-color:#ffffff; -fx-border-color:#e5e7eb; -fx-border-width:1 0 0 0;">
            <Label text="© 2025 Hospital Santa Vida" style="-fx-text-fill:#6b7280; -fx-font-size:11;" />
        </HBox>
    </bottom>
</BorderPane>
